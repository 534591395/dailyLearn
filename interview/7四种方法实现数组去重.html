<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
    <head>
        <title>7四种方法实现数组去重</title>
       
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta name="description" content="常见面试题" />
        <meta name="keywords" content="常见面试题,javascript" />
        <meta name="author" content="floraLam" />
        <script></script>
    </head>
    <body style = "font-family:'微软雅黑'">
        <h3>7四种方法实现数组去重</h3>
       使用四种方法去除数组中的重复元素

        <div style = "font-family: '微软雅黑';text-align: center;border: 1px dotted #000;color: #000;margin-top: 30px;padding: 20px 0;position:absolute;bottom:30px;width:98%">请问你可爱的小“F12”，索取答案!</div>
        
	</body>
    <script>
        var a = [];
        //随机生成长度为10000的数组
        for(var i =0;i<1000;i++){
            a.push(Math.floor(Math.random()*40+1));
        }
        console.info("对于随机产生的长度为1000的数组");
        Array.prototype.unique1 = function(){

            var l = this.length;
            var o = [];//
            for(var i=0;i<l;i++){
                if(o.indexOf(this[i]) == -1)
                    o.push(this[i]);
            }
            return o;
        }
        console.time("使用方法一去重时间");
        console.info(a.unique1());
        console.timeEnd("使用方法一去重时间");
        Array.prototype.unique2 = function(){
            /*增设变量存储出现的字符*/
            var key = {},o = [];
            for(var i=0;i<this.length;i++){
                if(!key[this[i]]){
                    key[this[i]] = true;
                    o.push(this[i]);
                }
            }
            return o;
        }
        console.time("使用方法二去重时间");
        console.info(a.unique2());
        console.timeEnd("使用方法二去重时间");

        Array.prototype.unique3 = function(){
            //如果当前数组的第i项在当前数组中第一次出现的位置不是i，
            //那么表示第i项是重复的，忽略掉。否则存入结果数组
            var o =[this[0]];
            for(var i=1;i<this.length;i++){
                if(this.indexOf(this[i])==i)
                    o.push(this[i]);
            }
            return o;
        }
        console.time("使用方法三去重时间");
        console.info(a.unique3());
        console.timeEnd("使用方法三去重时间");

        Array.prototype.unique4 = function(){
            this.sort();
            var o = [this[0]];
            for(var i = 1;i<this.length;i++){
                if(this[i] !== o[o.length-1]){
                    o.push(this[i]);
                }
            }
            return o;
        }
        console.time("使用方法四去重时间");
        console.info(a.unique4());
        console.timeEnd("使用方法四去重时间");
    </script>
</html>

