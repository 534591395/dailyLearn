<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
    <head>
        <title>37两个链表的第一个公共结点</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta name="description" content="使用javascript实现数据结构和算法题目" />
        <meta name="keywords" content="数据结构和算法,javascript" />
        <meta name="author" content="floraLam" />
        <script src="../ADT/llist.js"></script>
        <script></script>
    </head>
    <body style = "font-family:'微软雅黑'">
        <h3>37两个链表的第一个公共结点</h3>
        输入两个链表的第一个公共结点

        <div style = "font-family: '微软雅黑';text-align: center;border: 1px dotted #000;color: #000;margin-top: 30px;padding: 20px 0;position:absolute;bottom:30px;width:98%">请问你可爱的小“F12”，索取答案!</div>
        
	</body>
    <script>
            //引入ADT中的 链表，创建一个链表
        var a = new LList();
        a.insert("A", "head");
        a.insert("B", "A");
        a.insert("C", "B");
        a.insert("D", "C");  
        a.insert("E", "D");
        a.insert("F", "E"); 

        var b = new LList();
        b.insert("G", "head");
        b.insert("H", "G");
        b.insert("I", "H");
        b.insert("D", "I");  
        b.insert("E", "D");
        b.insert("F", "E");  
        b.insert("Z", "F");  

       function findFirstCommonNode_1(pHead1,pHead2){
            var bLen = getListLength(pHead2.head);
            var aLen = getListLength(pHead1.head);

            var nLen = (bLen > aLen)?(bLen-aLen):(aLen-bLen);

            var a = pHead1;
            var b = pHead2;

            //设置a比b长
            if(aLen < bLen){
                  var temp = a;
                  a = b;
                  b = temp; 
            }
            for(var i = 0;i<nLen;i++){
                a = a.next;
            }
            a = a.next;
            b = b.next;
            while(a.next != null && b.next != null && a.element != b.element){
           
                a = a.next;
                b = b.next;
            }

            return a;
       }
       console.info("对于链表 ：");
       console.info(a.display());
       console.info(b.display());
       console.info("共同结点：");

       console.time("方法一");
       console.info(findFirstCommonNode_1(a.head,b.head));
       console.timeEnd("方法一");

       console.time("方法二");
       console.info(findFirstCommonNode_2(a.head,b.head));
       console.timeEnd("方法二");
       
       function findFirstCommonNode_2(pHead1,pHead2){
            var a = pHead1.next;
            var b = pHead2.next;
            while(a.next != null && b.next != null && a.element != b.element){
           
                a = a.next;
                b = b.next;
            }

            return a;

       }
       //获取链表长度
       function getListLength(pHead){
            var length = 0;
            var node = pHead;
            while(node != null){
                length++;
                node = node.next;
            }
            return length;
       }
     
    </script>
</html>

