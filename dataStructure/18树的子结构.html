<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
    <head>
        <title>18树的子结构</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <meta name="description" content="使用javascript实现数据结构和算法题目" />
        <meta name="keywords" content="数据结构和算法,javascript" />
        <meta name="author" content="floraLam" />
        <script src="../ADT/tree.js"></script>
        <script></script>
    </head>
    <body style = "font-family:'微软雅黑'">
        <h3>18树的子结构</h3>
       输入两棵二叉树A和B，判断B是不是A的子结构

        <div style = "font-family: '微软雅黑';text-align: center;border: 1px dotted #000;color: #000;margin-top: 30px;padding: 20px 0;position:absolute;bottom:30px;width:98%">请问你可爱的小“F12”，索取答案!</div>
        
	</body>
    <script>
        var nums = new BST();
            nums.insert(23);
            nums.insert(45);
            nums.insert(16);
            nums.insert(37);
            nums.insert(3);
            nums.insert(99);
            nums.insert(22);
        var sub = new BST();
            sub.insert(16);
            sub.insert(3);
            sub.insert(22);

       

        function hasSubTree(n,s){
            //防御性检测，n和s必须继承自节点Node，即排除了null和undefined的可能
           
            if(!(n instanceof Node) || !(s instanceof Node))
                throw new Error("arguments type Error");
            var result = false;

            if(n.data == s.data)
                result = doesTree1HaveTree2(n,s);
            if(!result)
                result =hasSubTree(n.left,s);
            if(!result)
                result = hasSubTree(n.right,s);

            return result;
        }
        function doesTree1HaveTree2(p1,p2){
            if(p2 == null)
                return true;
            if(p1 == null)
                return false;
            if(p1.data != p2.data)
                return false;

            return doesTree1HaveTree2(p1.left,p2.left ) && doesTree1HaveTree2(p1.right,p2.right )
        }
        console.info("树1先序遍历："+nums.preOrder());
        console.info("树2先序遍历："+sub.preOrder());
        if(hasSubTree(nums.root,sub.root)){
            console.info("通过检测，树2是树1的子树");
        }else{
            console.info("通过检测，树2不是树1的子树");
        }
        console.info("输入hasSubTree查看源码");
    </script>
</html>

